import{d as x,E as M,e as N,g as D,h as y,U as p,i as T,j as G,H,k as z,l as Z,m as C,o as $,q as j,u as J,L as K,P as V,v as Q,w as S,x as W,y as X,z as F,B as k,R as ee,A as q,C as ae,D as re,F as te,G as ne,S as se,I as fe,J as B,K as ie,M as ue,N as w,O as _e}from"./runtime.DLzUx7Yf.js";import{c as le}from"./utils.BF7nJMey.js";function de(r,a,f=!1){T&&G();var n=r,i=null,s=null,_=p,P=f?M:0,v=!1;const l=(u,t=!0)=>{v=!0,I(t,u)},I=(u,t)=>{if(_===(_=u))return;let c=!1;if(T){const h=n.data===H;!!_===h&&(n=z(),Z(n),C(!1),c=!0)}_?(i?N(i):t&&(i=D(()=>t(n))),s&&y(s,()=>{s=null})):(s?N(s):t&&(s=D(()=>t(n))),i&&y(i,()=>{i=null})),c&&C(!0)};x(()=>{v=!1,a(l),v||I(null,null)},P),T&&(n=$)}function U(r){for(var a=w,f=w;a!==null&&!(a.f&(k|ee));)a=a.parent;try{return q(a),r()}finally{q(f)}}function oe(r,a,f,n){var L;var i=(f&ae)!==0,s=!re||(f&te)!==0,_=(f&ne)!==0,P=(f&_e)!==0,v=!1,l;_?[l,v]=le(()=>r[a]):l=r[a];var I=se in r||fe in r,u=((L=j(r,a))==null?void 0:L.set)??(I&&_&&a in r?e=>r[a]=e:void 0),t=n,c=!0,h=!1,b=()=>(h=!0,c&&(c=!1,P?t=F(n):t=n),t);l===void 0&&n!==void 0&&(u&&s&&J(a),l=b(),u&&u(l));var d;if(s)d=()=>{var e=r[a];return e===void 0?b():(c=!0,h=!1,e)};else{var O=U(()=>(i?B:ie)(()=>r[a]));O.f|=K,d=()=>{var e=S(O);return e!==void 0&&(t=void 0),e===void 0?t:e}}if(!(f&V))return d;if(u){var Y=r.$$legacy;return function(e,o){return arguments.length>0?((!s||!o||Y||v)&&u(o?d():e),e):d()}}var m=!1,g=!1,R=ue(l),E=U(()=>B(()=>{var e=d(),o=S(R);return m?(m=!1,g=!0,o):(g=!1,R.v=e)}));return i||(E.equals=Q),function(e,o){if(arguments.length>0){const A=o?S(E):s&&_?W(e):e;return E.equals(A)||(m=!0,X(R,A),h&&t!==void 0&&(t=A),F(()=>S(E))),e}return S(E)}}export{de as i,oe as p};
