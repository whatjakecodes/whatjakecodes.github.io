import{o as x,E as M,q as N,v as D,w as y,U as p,x as A,y as G,H,z as Z,A as z,B as C,C as V,D as $,F as j,L as J,G as K,R as Q,I as F,J as W,P as X,K as k,S as ee,M as ae,l as q,N as re,j as S,O as B,Q as te,h as Y,T as ne,V as se,W as fe,X as ie,Y as ue,Z as _e}from"./runtime.yIKdKb3Y.js";import{c as le}from"./utils.BjwFsAoo.js";function de(r,a,f=!1){A&&G();var n=r,i=null,s=null,_=p,P=f?M:0,v=!1;const l=(u,t=!0)=>{v=!0,I(t,u)},I=(u,t)=>{if(_===(_=u))return;let c=!1;if(A){const h=n.data===H;!!_===h&&(n=Z(),z(n),C(!1),c=!0)}_?(i?N(i):t&&(i=D(()=>t(n))),s&&y(s,()=>{s=null})):(s?N(s):t&&(s=D(()=>t(n))),i&&y(i,()=>{i=null})),c&&C(!0)};x(()=>{v=!1,a(l),v||I(null,null)},P),A&&(n=V)}function w(r){for(var a=B,f=B;a!==null&&!(a.f&(K|Q));)a=a.parent;try{return F(a),r()}finally{F(f)}}function oe(r,a,f,n){var L;var i=(f&te)!==0,s=!W||(f&X)!==0,_=(f&k)!==0,P=(f&ue)!==0,v=!1,l;_?[l,v]=le(()=>r[a]):l=r[a];var I=ee in r||ae in r,u=((L=$(r,a))==null?void 0:L.set)??(I&&_&&a in r?e=>r[a]=e:void 0),t=n,c=!0,h=!1,b=()=>(h=!0,c&&(c=!1,P?t=Y(n):t=n),t);l===void 0&&n!==void 0&&(u&&s&&j(a),l=b(),u&&u(l));var d;if(s)d=()=>{var e=r[a];return e===void 0?b():(c=!0,h=!1,e)};else{var O=w(()=>(i?q:re)(()=>r[a]));O.f|=J,d=()=>{var e=S(O);return e!==void 0&&(t=void 0),e===void 0?t:e}}if(!(f&ne))return d;if(u){var U=r.$$legacy;return function(e,o){return arguments.length>0?((!s||!o||U||v)&&u(o?d():e),e):d()}}var R=!1,g=!1,T=_e(l),E=w(()=>q(()=>{var e=d(),o=S(T);return R?(R=!1,g=!0,o):(g=!1,T.v=e)}));return i||(E.equals=se),function(e,o){if(arguments.length>0){const m=o?S(E):s&&_?fe(e):e;return E.equals(m)||(R=!0,ie(T,m),h&&t!==void 0&&(t=m),Y(()=>S(E))),e}return S(E)}}export{de as i,oe as p};
