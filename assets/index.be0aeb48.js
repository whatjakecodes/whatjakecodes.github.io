import{A as K,S as P,T as M,C as p,a as N,b as Q,P as H}from "./vendor.f765fced.js";const Z=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))n(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function o(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerpolicy&&(s.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?s.credentials="include":t.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(t){if(t.ep)return;t.ep=!0;const s=o(t);fetch(t.href,s)}};Z();function z(){const A=new K({width:620,height:440,transparent:!1,resolution:1});return A.renderer.backgroundColor=0,document.body.appendChild(A.view),A}var J="/assets/leaf.d96033b0.svg";function q(A, e){const o=A,n=e,t=[o,n];let s,i,l,a,d,c;for(let w=0; w<t.length; w++){let y=t[w];for(let m=0; m<y.length; m+=2){const b=(m+2)%y.length,E={x:y[b+1]-y[m+1],y:y[m]-y[b]};for(s=i=null,c=0; c<o.length; c+=2)l=E.x*o[c]+E.y*o[c+1],(s===null||l<s)&&(s=l),(i===null||l>i)&&(i=l);for(a=d=null,c=0; c<n.length; c+=2)l=E.x*n[c]+E.y*n[c+1],(a===null||l<a)&&(a=l),(d===null||l>d)&&(d=l);if(i<a||d<s)return!1}}return!0}class U extends P{collides(e){let o=this.getLeafPoints();return q(o,e)}getLeafPoints(){const e=this,o=100/2,n=125/2,{x:t,y:s}=e.toGlobal({x:0,y:-n/2}),{x:i,y:l}=e.toGlobal({x:o/2,y:0}),{x:a,y:d}=e.toGlobal({x:0,y:n/2}),{x:c,y:w}=e.toGlobal({x:-o/2,y:0});return[t,s,i,l,a,d,c,w]}}let h;const x=Math.PI;let B;const _= A=>{B=A},$= A=>{const e=M.from(J);let o=new p;o.x=A.screen.width/2,o.y=A.screen.height/2;const n=new U(e);n.anchor.x=.5,n.anchor.y=.5,n.scale.x=.5,n.scale.y=.5,o.addChild(n),n.name="LEAF",h=o,h.rotation=x,A.stage.addChild(h),iA(h)},AA=()=>h.y-.5*h.height,eA= A=>{h.x=A.screen.width/2,h.y=A.screen.height/2,document.addEventListener("keydown",v),document.addEventListener("keyup",R),B(6),T.start()},C=[.4,.2,-.2,-.4];let L=Math.floor(C.length/2);const tA=C.length-1,oA=0,D= A=>{h.rotation=x+Math.PI*C[A]},nA=()=>{L!==oA&&D(--L)},sA=()=>{L!==tA&&D(++L)};let Y=!1,I;const v= A=>{if(Y)return;Y=!0,clearTimeout(I),I=setTimeout(function o(){!Y||(e(),I=setTimeout(o,125))},50);function e(){(A.code==="KeyA"||A.code==="ArrowLeft")&&nA(),(A.code==="KeyD"||A.code==="ArrowRight")&&sA()}},R=()=>{clearTimeout(I),Y=!1};let T;const iA= A=>{T=N.shared.add(()=>{const e=A.getChildAt(0),o=X(0),n=X(1);if(e.collides(o)||e.collides(n)){rA();return}A.x=A.x+(A.rotation-x)/Math.PI*-12;const t=8;let s=Math.abs(A.rotation-x)/Math.PI;const i=t-s*t;B(i)})},lA=()=>{T&&T.stop(),B(0)},rA=()=>{mA(),document.removeEventListener("keydown",v),document.removeEventListener("keyup",R)};document.addEventListener("keydown",v);document.addEventListener("keyup",R);var cA="data:image/jpeg;base64,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";const aA=M.from(cA);let W=0;_(A=>{W=A});const r=new p;let G,S,f,u;const dA= A=>{r.x=A.screen.width/2,r.y=A.screen.height;const e=.25,o=.6;f=k(),f.x=-A.screen.width*e,f.y=0,u=k(),u.x=A.screen.width*e,u.y=A.screen.height*o,r.addChild(f),r.addChild(u),A.stage.addChild(r),G=f.y,S=u.y,gA(A,r)},hA=()=>{F&&F.stop()};let V=0,j=!1;const fA=()=>V,uA= A=>{V=0,j=!1,r.x=A.screen.width/2,r.y=A.screen.height,r.removeChild(f),r.removeChild(u),f.y=G,u.y=S,r.addChild(f),r.addChild(u),F.start()};let F;function gA(A, e){F=N.shared.add(()=>{e.y=e.y-W;const t=e.getChildAt(0),s=AA(),i=t.y+e.y;s>i&&!j&&(j=!0,V+=1),o(t)&&(e.removeChild(t),n(t),e.addChild(t),j=!1)});function o(t){return t.y+t.height/2+e.y<0}function n(t){t.y=A.screen.height-e.y+t.height/2}}let yA=0;function k(){const A=new U(aA);return A.name=`wall-${++yA}`,A.width=300,A.height=40,A.anchor.set(.5,.5),A}function X(A){let e=r.getChildAt(A).getBounds();const o=e.x,n=e.y,t=e.x+e.width,s=e.y,i=e.x+e.width,l=e.y+e.height,a=e.x,d=e.y+e.height;return[o,n,t,s,i,l,a,d]}const O=["KeyA","KeyD","ArrowLeft","ArrowRight"];let g;function wA(A){g=A;const e=new Q("Press A,D,<-,-> to start",{fill:"white"});e.anchor.set(.5),e.x=A.screen.width/2,e.y=A.screen.height/2,document.addEventListener("keydown",o,{once:!0}),A.stage.addChild(e);function o(n){O.indexOf(n.code)!==-1&&($(A),dA(A),A.stage.removeChild(e))}}function mA(){lA(),hA(),EA(fA())}function EA(A){const e="Score: "+A+`
Press A,D,<-,-> to try again`,o=new Q(e,{fill:"white"});o.anchor.set(.5),o.x=g.screen.width/2,o.y=g.screen.height/2,g.stage.addChild(o),document.addEventListener("keydown",n,{once:!0});function n(t){O.indexOf(t.code)!==-1&&(eA(g),uA(g),g.stage.removeChild(o))}}const xA=z();wA(xA);window.PIXI=H;
